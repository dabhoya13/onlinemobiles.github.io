webpackJsonp([112],{"/0Kg":function(e,t){"use strict";t.a={storeHeader:"storeHeader",storeMetaData:"storeMetaData"}},"98RI":function(e,t,n){"use strict";var a=n("/0Kg"),r=n("9vGq");t.a=function(e,t){return function(n){switch(e){case a.a.storeHeader:var o=t||{},i=o.headers,s=o.merchantData;return s&&n({type:r.f,payload:s}),n({type:r.e,payload:i});case a.a.storeMetaData:return n({type:r.g,payload:(t||{}).metadata});default:return null}}}},IkrK:function(e,t,n){"use strict";function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=n("KM04"),i=(n.n(o),n("q4YJ")),s=n("9vGq"),c=n("Ahxv"),p=n("jYI/"),u=n("98RI"),f=n("/0Kg"),l=n("Z0Lr"),d=function(e){function t(){for(var t,n,r,o=arguments.length,p=Array(o),u=0;u<o;u++)p[u]=arguments[u];return t=n=a(this,e.call.apply(e,[this].concat(p))),n.handleIframeTask=function(e){if("object"!=typeof e.data&&e.origin!==window.location.origin){var t=JSON.parse(e.data)||{},a=t.dataType,r=t.request,o=t.merchantKey;if("tracking"===a){var i=r||{},p=i.eventType,u=i.trackingData;switch(p){case"pageView":var d=u||{};return l.e.trackPageView(l.c.DYNAMIC,d.pageKey,d.metadata);case"userAction":var y=u||{};return l.e.trackUserInteraction(l.d.CLICK,y.elementName,y.pageKey,y.metadata);default:return null}}if("apiType"===a){n.sendDataToParents({responseType:"apiResponse",apiStatus:s.i.INITIATED,response:{}});var g={"ic-merchant-key":o,"ic-origin":e.origin};n.props.widgetAction(f.a.storeHeader,g),n.getData(null,Object(c.a)(r),{headers:g}).then(function(e){n.sendDataToParents({responseType:"apiResponse",apiStatus:s.i.SUCCESS,response:e})}).catch(function(e){n.sendDataToParents({responseType:"apiResponse",apiStatus:s.i.ERROR,response:e})})}}},n.sendDataToParents=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};window.parent.postMessage(JSON.stringify(e),"*")},n.getData=function(e,t,n){return Object(i.a)(e,t,function(e){return e.data},null,null,n)},r=t,a(n,r)}return r(t,e),t.prototype.componentDidMount=function(){window.addEventListener("message",this.handleIframeTask)},t.prototype.componentWillUnmount=function(){window.removeEventListener("message",this.handleIframeTask)},t.prototype.render=function(){return null},t}(o.Component);t.default=Object(p.b)(null,{widgetAction:u.a})(d)}});
//# sourceMappingURL=route-widget-communication-screen.chunk.8073b.js.map