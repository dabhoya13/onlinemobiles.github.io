(this["webpackJsonpwidget-application"]=this["webpackJsonpwidget-application"]||[]).push([[0],{1:function(e,t,n){"use strict";n.r(t);var a=n(12),i=n(9),r=["onRendered"],o={},c=n(2),s=function(e){var t=function(e){return document.querySelector("#".concat(e))}(e);t&&Object(c.unmountComponentAtNode)(t)},l=n(24),d=function(e){var t=e||{},n=t.backgroundColor,a=t.fontColor,i=t.primaryCTAColor,r=t.secondaryCTAColor;return{backgroundColor:n||"#fff",primaryColor:i||"#1abc70",contrastTextColor:t.contrastTextColor||"#fff",secondaryColor:r||"#1abc70",textColor:a||"#000",errorColor:t.errorTextColor||"#d32f2f"}},m=n(15),u=n(17),b=n(16),h=n(82),p=n(13),j=n(36),f=n.n(j),g=n(3),v=function(e){Object(u.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleIframeTask=function(t){"https://instacred.me"===t.origin&&"object"!==typeof t.data&&e.props.apiResponse(t.data)},e}return Object(m.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("message",this.handleIframeTask,!1)}},{key:"render",value:function(){var e={src:"".concat("https://instacred.me","/widget-communication-screen"),width:"0",height:"0",frameBorder:"0"},t=JSON.stringify(Object(a.a)(Object(a.a)({},this.props.requestData),{},{merchantKey:this.props.merchantKey}));return Object(g.jsx)(f.a,{attributes:e,postMessageData:t})}}]),n}(c.default.PureComponent),O=n(78),x=function(e){var t=e.className;return Object(g.jsx)("img",{src:"https://iccdn.in/img/inline-powered-by.svg",alt:"powered-by",className:t})},y=Object(c.createContext)(),C=y.Provider,w=y.Consumer,N=function(e){return function(t){return Object(g.jsx)(w,{children:function(n){return Object(g.jsx)(c.Fragment,{children:Object(g.jsx)(e,Object(a.a)(Object(a.a)({},t),{},{themeData:n}))})}})}},S=Object(O.a)((function(e){return{root:{},headerText:{fontSize:16,color:function(e){return e.primaryColor},fontWeight:"bold",lineHeight:"20px"},loaderContainer:{display:"flex",alignItems:"center"},subHeaderText:{fontSize:14,opacity:.8,lineHeight:"20px"},circle:{height:12,width:12,backgroundColor:"#1ABC70",borderRadius:"50%",marginLeft:8,animation:"900ms $myEffect infinite alternate","& :nth-child(2)":{"-webkit-animation-delay":"0.6s",animationDelay:"0.3s"},"& :nth-child(3)":{"-webkit-animation-delay":"0.6s",animationDelay:"0.6s"}},"@-webkit-keyframes myEffect":{to:{opacity:.3,transform:"translate3d(0, -0.5rem, 0)"}},"@keyframes myEffect":{to:{opacity:.3,transform:"translate3d(0, -0.5rem, 0)"}},first:{opacity:.3},second:{opacity:.6},poweredByContainer:{display:"flex",justifyContent:"flex-end"},imageContainer:{height:20}}})),A=N((function(e){var t=e.themeData,n=S(t);return Object(g.jsxs)("div",{className:n.root,children:[Object(g.jsx)("div",{className:n.headerText,children:"Cardless EMI"}),Object(g.jsxs)("div",{className:n.loaderContainer,children:[Object(g.jsx)("div",{className:n.subHeaderText,children:"Checking eligibility"}),Object(g.jsx)("div",{className:"".concat(n.circle," ").concat(n.first)}),Object(g.jsx)("div",{className:"".concat(n.circle," ").concat(n.second)}),Object(g.jsx)("div",{className:n.circle})]}),Object(g.jsx)("div",{className:n.poweredByContainer,children:Object(g.jsx)(x,{className:n.imageContainer})})]})})),E="NONE",D="success",k="error",T="NonAssigned",M="PreApproved",I="NotLoggedIn",L="NotApproved",R="Error",U=n(14),B=Object(O.a)((function(){return{root:{display:"flex",flexDirection:"column"},errorHeader:{color:function(e){return e.primaryColor},fontSize:16,fontWeight:"bold"},errorBody:{fontSize:14,marginTop:8,marginBottom:8},poweredByContainer:{display:"flex",justifyContent:"flex-end"},imageContainer:{height:20,marginTop:20}}})),P=N((function(e){Object(c.useEffect)((function(){e.updateTrackingEvents("pageView",{metadata:{widgetState:R}})}));var t=B(e.themeData);return Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:t.root,children:[Object(g.jsx)("div",{className:t.errorHeader,children:"Cardless EMI"}),Object(g.jsx)("div",{className:t.errorBody,children:"You maybe eligible"})]}),Object(g.jsx)("div",{className:t.poweredByContainer,children:Object(g.jsx)(x,{className:t.imageContainer})})]})})),W=n(91),H=Object(O.a)({emiAmount:{fontWeight:"bold"}}),z=function(e){var t=e.lenders,n=e.minimumLoanAmount,a=H();return Object(g.jsxs)("div",{children:["Minimum cart value required is"," ",Object(g.jsxs)("span",{className:a.emiAmount,children:["\u20b9",n," "]}),Object(g.jsx)("br",{}),"You are ",Object(g.jsx)("span",{className:a.emiAmount,children:"Pre-approved"})," with ",t.length," bank",t.length>1?"s":""]})},F=Object(O.a)({root:{display:"flex"},headerText:{fontSize:16,fontWeight:"bold",color:function(e){return e.primaryColor}},emiStatement:{fontSize:14,color:function(e){return e.textColor}},emiAmount:{fontWeight:"bold"},iconContainer:{marginRight:4},icon:{height:40,width:40},lenderLogoContainer:{display:"flex",marginTop:8},logoContainer:{margin:4},logo:{height:24,width:24},buttonContainer:{marginTop:12},primaryButton:{color:function(e){return e.primaryColor},borderColor:function(e){return e.primaryColor},fontSize:14},poweredByContainer:{display:"flex",justifyContent:"flex-end"},imageContainer:{height:16}}),K=N((function(e){var t=e.minimumLoanAmount,n=e.minimumEmi,i=e.lenders,r=e.contactDetails,o=e.amount,s=e.themeData,l=e.setFrameURL,d=e.updateTrackingEvents,m=M,u=i.length>0,b=Object(c.useRef)({widgetState:m,lender_list:u?i.reduce((function(e,t,n){var a=e+t.name;return i.length===n+1?a:a+","}),""):""});Object(c.useEffect)((function(){d("pageView",{metadata:Object(a.a)({},b.current)})}),[d]);var h=F(s);return Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:h.root,children:[Object(g.jsx)("div",{className:h.iconContainer,children:Object(g.jsx)("img",{src:"https://iccdn.in/img/widget-img/ic-widget-congratulation-icon.svg",alt:"help",className:h.icon})}),Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:h.headerText,children:["Cardless EMI"," ",!Object(U.b)()&&t<o&&Object(g.jsxs)("span",{className:h.emiStatement,children:["available"," ",n?Object(g.jsxs)("span",{children:["from ",Object(g.jsxs)("span",{className:h.emiAmount,children:["\u20b9",n,"/month"]})]}):null]})]}),t<o?Object(g.jsxs)("div",{className:h.emiStatement,children:[Object(U.b)()&&Object(g.jsxs)(c.Fragment,{children:["available"," ",n?Object(g.jsxs)("span",{children:["from ",Object(g.jsxs)("span",{className:h.emiAmount,children:["\u20b9",n,"/month"]})]}):null,Object(g.jsx)("br",{})]}),Object(g.jsx)("span",{className:h.emiAmount,children:"Pre-approved"})," with ",i.length," bank",i.length>1?"s":""]}):Object(g.jsx)("div",{className:h.emiStatement,children:u?Object(g.jsx)(z,{minimumLoanAmount:t,lenders:i}):Object(g.jsxs)("div",{children:["You are ",Object(g.jsx)("span",{className:h.emiAmount,children:"Pre-approved"})]})}),Object(g.jsx)("div",{className:h.buttonContainer,children:Object(g.jsx)(W.a,{variant:"outlined",className:h.primaryButton,onClick:function(){l({frameUrl:"widget-benefit-screen?amount=".concat(o,"&mobile=").concat(r||""),frameHeight:Object(U.b)()?420:500,widgetState:m}),d("userAction",{elementName:"show_details",metadata:b.current})},children:"SHOW DETAILS"})})]})]}),Object(g.jsx)("div",{className:h.poweredByContainer,children:Object(g.jsx)(x,{className:h.imageContainer})})]})})),_=Object(O.a)((function(e){return{messageContainer:{paddingTop:8,paddingBottom:8,width:"100%",display:"flex"},messageHeader:{color:function(e){return e.primaryColor},fontWeight:"bold",fontSize:16},message:{fontSize:14},creditContainer:{margin:8},creditInfoMessage:{fontWeight:"bold",fontSize:14,cursor:"pointer",color:function(e){return e.primaryColor}},poweredByContainer:{display:"flex",justifyContent:"flex-end"},imageContainer:{height:20}}})),q=L,J=N((function(e){var t=_(e.themeData),n=e||{},a=n.hashedMobile,i=n.contactDetail,r=n.setFrameURL,o=n.amount,s=n.updateTrackingEvents;Object(c.useEffect)((function(){s("pageView",{metadata:{widgetState:q}})}),[s]);var l=function(){r({frameUrl:"widget-check-eligibility?contactNumber=".concat(i,"&amount=").concat(o),frameHeight:Object(U.b)()?350:425,widgetState:q}),s("userAction",{elementName:"try_different_mobile",metadata:{widgetState:q}})};return Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{className:t.messageContainer,children:Object(g.jsxs)("div",{className:t.message,children:[Object(g.jsx)("div",{className:t.messageHeader,children:"Cardless EMI"}),Object(g.jsxs)("div",{className:t.nonApprovedMessage,children:[Object(g.jsxs)("div",{className:t.message,children:["Your number, ",a," is not currently pre-approved."," ",Object(U.b)()&&Object(g.jsx)("span",{className:t.creditInfoMessage,onClick:l,children:"Try another number >"})]}),!Object(U.b)()&&Object(g.jsx)("div",{className:t.creditInfoMessage,onClick:l,children:"Try with a different number >"})]})]})}),Object(g.jsx)("div",{className:t.poweredByContainer,children:Object(g.jsx)(x,{className:t.imageContainer})})]})})),V=Object(O.a)({lenderLogoContainer:{display:"flex",marginTop:4},logoContainer:{margin:4},logo:{height:24,width:24},buttonContainer:{marginTop:8},primaryButton:{color:function(e){return e.primaryColor},borderColor:function(e){return e.primaryColor},fontSize:14}}),Y=N((function(e){var t=V(e.themeData),n=e||{},a=n.lenders,i=n.setFrameURL,r=n.amount,o=n.isLenderAvailable,c=n.updateTrackingEvents,s=n.widgetState;return Object(g.jsxs)("div",{children:[o&&Object(g.jsx)("div",{className:t.lenderLogoContainer,children:a.map((function(e,n){return Object(g.jsx)("div",{className:t.logoContainer,children:Object(g.jsx)("img",{src:e.logoIcon,alt:"logo",className:t.logo})},e.bankCode||n)}))}),Object(g.jsx)("div",{className:t.buttonContainer,children:Object(g.jsx)(W.a,{variant:"outlined",className:t.primaryButton,onClick:function(){c("userAction",{elementName:"check_eligliblity_instantly",metadata:{widgetState:s,PA:!1}}),i({frameUrl:"widget-check-eligibility?amount=".concat(r),frameHeight:Object(U.b)()?350:425,widgetState:s})},children:"Check Eligibility Now"})})]})})),G=Object(O.a)({headerText:{fontWeight:"bold",color:function(e){return e.primaryColor}}}),$=function(e){var t=e.minimumLoanAmount,n=G();return Object(g.jsxs)(c.Fragment,{children:[Object(g.jsx)("span",{className:n.headerText,children:"Cardless EMI "}),"starts for minimum cart of ",Object(g.jsxs)("span",{className:n.boldText,children:["\u20b9",t]})]})},Q=Object(O.a)({root:{display:"flex",justifyContent:"space-between"},emiStatementWrapper:{display:"flex",alignItems:"center"},emiStatement:{fontSize:14,color:function(e){return e.textColor}},headerText:{fontSize:16,fontWeight:"bold",color:function(e){return e.primaryColor}},boldText:{fontWeight:"bold"},icon:{height:20,width:20},poweredByContainer:{display:"flex",justifyContent:"flex-end"},imageContainer:{height:16,marginTop:8}}),X=I,Z=N((function(e){var t=e||{},n=t.lenders,a=t.minimumEMI,i=t.themeData,r=t.setFrameURL,o=t.amount,s=t.minimumLoanAmount,l=t.updateTrackingEvents,d=Q(i);Object(c.useEffect)((function(){l("pageView",{metadata:{widgetState:X}})}),[l]);var m=n.length>0;return Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{className:d.root,children:Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:d.emiStatementWrapper,children:[a?Object(g.jsxs)("div",{className:d.emiStatement,children:[Object(g.jsx)("span",{className:d.headerText,children:"Cardless EMI "}),"starts ",Object(g.jsxs)("span",{className:d.boldText,children:["@\u20b9",a]}),"/month\xa0"]}):Object(g.jsx)("div",{className:d.emiStatement,children:m?Object(g.jsx)($,{minimumLoanAmount:s}):Object(g.jsxs)(c.Fragment,{children:[Object(g.jsx)("span",{className:d.headerText,children:"Cardless EMI "}),"Available"]})}),Object(g.jsx)("div",{children:Object(g.jsx)("img",{src:"https://iccdn.in/img/widget-img/ic-widget-info.svg",alt:"help",className:d.icon,onClick:function(){l("userAction",{elementName:"info_icon",metadata:{widgetState:X}}),r({frameUrl:"widget-benefit-screen?amount=".concat(o),frameHeight:Object(U.b)()?420:500,widgetState:X})}})})]}),Object(g.jsx)(Y,{widgetState:X,lenders:n,setFrameURL:r,amount:o,isLenderAvailable:m,updateTrackingEvents:l})]})}),Object(g.jsx)("div",{className:d.poweredByContainer,children:Object(g.jsx)(x,{className:d.imageContainer})})]})})),ee=["isRepeatedUser","hashedMobile"],te=function(e){var t=e||{},n=t.isRepeatedUser,i=t.hashedMobile,r=Object(l.a)(t,ee);return n&&i?Object(g.jsx)(J,Object(a.a)({hashedMobile:i},r)):Object(g.jsx)(Z,Object(a.a)({},e))},ne=n(22),ae=function(e){Object(u.a)(n,e);var t=Object(b.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var e=this.props||{},t=e.isPreApproved,n=e.minimumLoanAmount,a=ne.a.read(U.c.loanData)||{};a.isEligible=t,a.minimumLoanAmount=n||0,ne.a.write(U.c.loanData,a,604800)}},{key:"render",value:function(){var e=this.props||{},t=e.isPreApproved,n=e.isNtbAllowed,a=e.isRepeatedUser,i=e.lenders,r=e.minimumLoanAmount,o=e.hashedMobile,c=e.minimumEMI,s=e.contactDetails,l=e.amount,d=e.setFrameURL,m=e.updateTrackingEvents;return t?Object(g.jsx)(K,{minimumLoanAmount:r,minimumEmi:c,lenders:i,amount:l,contactDetails:s,setFrameURL:d,updateTrackingEvents:m}):Object(g.jsx)(te,{isNtbAllowed:n,amount:l,lenders:i,minimumLoanAmount:r,minimumEMI:c,isRepeatedUser:a,hashedMobile:o,contactDetail:s,setFrameURL:d,updateTrackingEvents:m})}}]),n}(c.default.PureComponent),ie=["lenders"],re=["emiMultiplier","minLoanAmount"],oe=function(e,t){var n=t||{},i=n.lenders,r=Object(l.a)(n,ie);return Object(a.a)(Object(a.a)({},r),ce(e,i))},ce=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=0,a=0,i=t.map((function(t){var i=t||{},r=i.emiMultiplier,o=i.minLoanAmount,c=Object(l.a)(i,re);n=n>0?o<n?o:n:o;var s=r?Math.round(r*e/1e3):0;return a=a>0?a>s?s:a:s,c}));return{minimumLoanAmount:n,lenders:i,minimumEMI:e>n?a:void 0}},se=["metadata"],le=Object(c.lazy)((function(){return Promise.all([n.e(5),n.e(2)]).then(n.bind(null,93))})),de={container:{marginTop:16,marginBottom:16},cardContainer:{padding:16,paddingBottom:8,boxShadow:"0 0 24px 0 rgba(0,0,0,0.08)",borderRadius:8,maxWidth:Object(U.b)()?"":424,width:Object(U.b)()?"100%":"",minWidth:Object(U.b)()?"":330},closeIconContainer:{position:"fixed",height:32,width:32,borderRadius:"50%",backgroundColor:Object(U.b)()?"rgba(0,0,0,0.6)":"rgba(0,0,0,0.8)",display:"flex",justifyContent:"center",alignItems:"center"}},me={apiStatus:E,widgetState:T,response:{},communicationData:{},contactDetail:"",prevContactDetails:void 0,repeated:!1,toggleState:!1,frameUrl:"",frameHeight:""},ue=function(e){Object(u.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state=me,e.componentDidUpdate=function(t,n){(e.props||{}).loanAmount!==(t||{}).loanAmount&&e.getEmi(),(t||{}).phoneNumber!==e.props.phoneNumber&&e.updateContactNumber(e.props.phoneNumber),(n||{}).contactDetail!==e.state.contactDetail&&e.setState({repeated:!0,apiStatus:E},(function(){return e.callCheckEligibility()}))},e.getEmi=function(){var t=e.props||{},n=t.loanAmount,a=t.phoneNumber,i=U.a.getCache();i&&!a?e.setState({apiStatus:D,response:{data:oe(n,i)}}):e.callCheckEligibility(!0)},e.callCheckEligibility=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=e.props||{},a=n.loanAmount,i=e.state||{},r=i.contactDetail,o=i.prevContactDetails;(o!==r||t)&&e.setState({communicationData:{dataType:"apiType",request:{method:"post",url:"/app/widget/check-user-eligibility?v=1",data:{mobile:r||e.props.phoneNumber,amount:a}}},prevContactDetails:r})},e.apiResponse=function(t){var n=JSON.parse(t).responseType;if("apiResponse"===n){var a=JSON.parse(t)||{},i=a.apiStatus,r=a.response,o=(e.props||{}).loanAmount;if(e.setState({apiStatus:i,response:{data:oe(o,r.data)}}),i===D)(r.data||{}).mobile?U.a.clearCache():U.a.setCache(r.data)}else if("updateMobileNumber"===n){var c=(JSON.parse(t)||{}).contactDetail;e.updateContactNumber(c)}},e.updateContactNumber=function(t){e.setState({contactDetail:t})},e.renderWidget=function(){var t=e.state||{},n=t.apiStatus,a=t.response,i=(e.props||{}).loanAmount;switch(n){case D:var r=a.data||{},o=r.isPreApproved,c=r.isNtbAllowed,s=r.mobile,l=r.minimumLoanAmount,d=r.lenders,m=r.minimumEMI,u=e.state||{},b=u.contactDetail,h=u.repeated;return Object(g.jsx)(ae,{isPreApproved:o,isNtbAllowed:c,lenders:d,contactDetails:b||e.props.phoneNumber,hashedMobile:s,amount:i,minimumLoanAmount:l,minimumEMI:m,isRepeatedUser:h,setFrameURL:function(t){var n=t.frameUrl,a=t.frameHeight,i=t.widgetState;return e.setState({frameUrl:n,frameHeight:a,toggleState:!0,widgetState:i})},updateTrackingEvents:e.updateTrackingEvents});case k:return Object(g.jsx)(P,{updateTrackingEvents:e.updateTrackingEvents});default:return Object(g.jsx)(A,{})}},e.updateTrackingEvents=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n||{},r=i.metadata,o=Object(l.a)(i,se);if("userAction"===t){var c=ne.a.read(U.c.loanData);c.hasInteracted=!0,ne.a.write(U.c.loanData,c,604800)}var s={dataType:"tracking",request:{eventType:t,trackingData:Object(a.a)(Object(a.a)({pageKey:"pv_check_eligliblity_widget"},o),{},{metadata:e.getMetaData(r)})}};e.setState({communicationData:s})},e.getMetaData=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.props||{},i=n.loanAmount,r=e.state||{},o=r.response,c=r.widgetState,s=o.data||{},l=s.mobile,d=s.isPreApproved;return Object(a.a)(Object(a.a)({widgetState:c},t),{},{device:Object(U.b)()?"mobile":"desktop",amount:i,PA:d,"logged-in":!!e.props.phoneNumber,verifiedIdentity:!!l,merchant_name:window.location.hostname,merchant_url:window.location.href})},e.onIframeDataUpdate=function(t){var n=(e.props||{}).loanAmount;switch((t||{}).type){case"updateContactNumber":return e.setState({contactDetail:t.contactNumber,frameHeight:Object(U.b)()?420:500,frameUrl:"widget-benefit-screen?amount=".concat(n,"&mobile=").concat(t.contactNumber||"")});case"editContactNumber":return e.setState({contactDetail:t.contactNumber,frameUrl:"widget-check-eligibility?amount=".concat(n),frameHeight:Object(U.b)()?350:425});case"updateMobileNumber":return e.setState({contactDetail:t.contactNumber});default:return null}},e}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var e=o.onRendered;e&&e(),this.getEmi()}},{key:"componentWillUnmount",value:function(){this.setState(Object(a.a)({},me))}},{key:"render",value:function(){var e=this,t=this.props||{},n=t.themeData,a=t.classes,i=t.merchantKey,r=this.state||{},o=r.toggleState,s=r.frameHeight,l=r.frameUrl,d=r.communicationData,m=(n||{}).backgroundColor;return Object(g.jsxs)("div",{className:a.container,children:[Object(g.jsx)(v,{apiResponse:this.apiResponse,merchantKey:i,requestData:d}),Object(g.jsxs)(h.a,{style:{backgroundColor:m},className:a.cardContainer,children:[this.renderWidget(),Object(g.jsx)(c.Suspense,{fallback:null,children:Object(g.jsx)(le,{metadata:this.getMetaData(),closeButton:function(){return Object(g.jsx)("div",{className:a.closeIconContainer,style:{bottom:Object(U.b)()?s+10:s/2+window.innerHeight/2+10,right:Object(U.b)()?16:window.innerWidth/2-365},children:Object(g.jsx)("img",{src:"https://iccdn.in/img/widget-img/widget-close-overlay.svg",alt:"close",onClick:function(){e.updateTrackingEvents("userAction",{elementName:"close_overLay",metadata:{}}),e.setState({toggleState:!1})}})})},merchantKey:i,height:s,toggleState:o,toggleDrawer:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.setState({toggleState:t,widgetState:n.widgetState?n.widgetState:e.state.widgetState},(function(){return e.onIframeDataUpdate(n)}))},frameUrl:l})})]})]})}}]),n}(c.default.PureComponent),be=Object(p.a)(de)(N(ue)),he=n(97),pe=n(89),je={},fe=new function e(){var t=this;Object(i.a)(this,e),this.data={},this.updateData=function(e){return t.data=e}},ge=["size","loanAmount"],ve=Object(c.lazy)((function(){return Promise.all([n.e(6),n.e(3)]).then(n.bind(null,84))})),Oe=Object(he.a)({productionPrefix:"ic",disableGlobal:!0,seed:"widget"}),xe=function(e){var t=e||{},n=(t.size,t.loanAmount),i=Object(l.a)(t,ge);return Object(g.jsx)(pe.b,{generateClassName:Oe,children:Object(g.jsx)(C,{value:d(fe.data),children:Object(g.jsxs)("div",{children:[Object(g.jsx)(c.Suspense,{fallback:null,children:Object(g.jsx)(ve,{})}),Object(g.jsx)(be,Object(a.a)({loanAmount:n?n.split(",").join(""):""},i))]})})})},ye=c.default.createElement,Ce=function(e){return document.querySelector("#".concat(e))},we=function(e,t){var n=Ce(t);return(je||{}).isEnabled?n?c.default.render(ye(xe,e),Ce(t)):void console.info("Missing element-id"):console.info("Merchant is not enabled")},Ne=new function e(){var t=this;Object(i.a)(this,e),this.selectInstaCred=function(e){var t=e.checkoutAmount,n=ne.a.read(U.c.loanData)||{}||{},a=n.hasInteracted,i=n.isEligible,r=n.minimumLoanAmount;return i&&a&&t>=r},this.init=function(e){var n=e||{},a=n.onSDKInit,i=n.merchantKey;return i?a?(t.merchantKey=i,void fetch("".concat("https://instacred.me","/app/widget/init"),{method:"GET",headers:{"Content-Type":"application/json","ic-origin":window.location.href,"ic-merchant-key":i}}).then((function(e){return e.json()})).then((function(e){var t=(e||{}).data||{},n=t.widgetTheme,i=t.isEnabled,r=t.isNTBEnabled;if(je.isEnabled=i,je.isNTBEnabled=r,fe.updateData(n),!i)return console.info("Merchant is not enabled");a()})).catch((function(e){console.log("errorResponse : ",e)}))):console.info("onSDKInit Function is required"):console.info("merchantKey is required")},this.showCEWidget=function(e,n){we(Object(a.a)(Object(a.a)({},e),{},{merchantKey:t.merchantKey}),n)},this.registerEvent=function(e,t){r.includes(e)?o[e]=t:console.info("register eventName is not allowed")},this.unregisterEvent=function(e){r.includes(e)?o.hasOwnProperty(e)?delete o[e]:console.info("".concat(e," is not registered")):console.info("unregister eventName is not allowed")},this.unMountElement=function(e){s(e)},this.merchantKey=""};t.default=Ne},14:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return c}));var a=n(9),i=n(22),r=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},o={lenderDetails:"lender-details",loanData:"loan-data"},c=new function e(){Object(a.a)(this,e),this.setCache=function(e){i.a.write(o.lenderDetails,e,259200)},this.getCache=function(){return i.a.read(o.lenderDetails)},this.clearCache=function(){i.a.clearPrefix(o.lenderDetails)}}},22:function(e,t,n){"use strict";var a=function(e,t){0},i=function(){if(window&&window.localStorage)return window.localStorage;var e={};return{getItem:function(t){return e[t]},setItem:function(t,n){e[t]=n.toString()},removeItem:function(t){delete e[t]},clear:function(){e={}}}}(),r=new Date/1e3,o=function(e){try{return i.getItem(e)?JSON.parse(i.getItem(e)):void 0}catch(t){return}},c=function(e,t){try{Promise.resolve(i.setItem(e,JSON.stringify(t))).catch((function(e){i.clear()}))}catch(n){i.clear()}},s=function(e){return i.removeItem(e)},l={clearPrefix:function(e){var t=new Date/1e3,n="ic-".concat(e);return Object.keys(i).map((function(i){return i===n&&(a("<<<localCache ".concat(Math.round(t-r),"s >>>"),"DELETE ".concat(i," prefix: ").concat(e)),s(i)),i})),!0},clear:function(){i.clear()},write:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3600,l=new Date/1e3,d=Math.round(l+n),m="ic-".concat(e);return Object.keys(i).forEach((function(e){var t=o(e)||{};l>t.expiryTime&&(a("<<<localCache ".concat(Math.round(l-r),"s >>>"),"DELETE ".concat(e," expired: ").concat(l-t[e]||"<err>","s ago")),s(e))})),c(m,{data:t,expiryTime:d}),a("<<<localCache ".concat(Math.round(l-r),"s >>>"),"WRITE ".concat(e," for ").concat(n,"s")),t},read:function(e,t){var n="ic-".concat(e),i=o(n)||{},c=i.data,s=i.expiryTime,l=new Date/1e3;return s>=l?(a("<<<localCache ".concat(Math.round(l-r),"s >>>"),"READ (hit) ".concat(e," valid for ").concat(Math.round(s-l),"s")),c):(a("<<<localCache ".concat(Math.round(l-r),"s >>>"),"READ (miss) ".concat(e," ").concat(s?"expired ".concat(l-s,"s ago."):"")),t)},fetch:function(e,t,n){var a=l.read(e);return a?Promise.resolve(a):Promise.resolve(n()).then((function(n){return l.write(e,n,t),n}))}};t.a=l}}]);
//# sourceMappingURL=application-code.8897eead.chunk.js.map